{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kaiwen Song\\\\Desktop\\\\Etsy-Inventory-Tracker\\\\my-app\\\\src\\\\components\\\\CreatePopup.js\";\nimport React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport ReactDOM from 'react-dom';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Hook extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentProperty: {},\n      currentName: props.selectedProduct != null ? props.selectedProduct.hooks[props.id] : '',\n      loaded: false\n    };\n\n    if (this.props.productIds[0] != null) {\n      axios.get(\"http://localhost:5000/hooks/getProperties/\" + (this.props.selectedProduct != null && this.props.selectedProduct.properties[this.props.id] != null ? this.props.productIds[this.props.productNames.indexOf(this.props.selectedProduct.hooks[this.props.id])] : this.props.productIds[0])).then(response => {\n        this.setState({\n          currentProperty: response.data\n        });\n      });\n    }\n\n    this.displayProperties = this.displayProperties.bind(this);\n    this.renderHooks = this.renderHooks.bind(this);\n  }\n\n  displayProperties(event) {\n    this.setState({\n      currentName: event.target.value\n    });\n    axios.get(\"http://localhost:5000/hooks/getProperties/\" + this.props.productIds[event.target.selectedIndex]).then(response => {\n      this.setState({\n        currentProperty: response.data\n      });\n    });\n  }\n\n  renderHooks() {\n    var hooks = []; // hooks.push(<Col md = {3}>\n    //   <Form.Label>Product</Form.Label>\n    //   <Form.Select onChange={this.displayProperties} className=\"form-control hooks-field\" id=\"hooks-select\" value={this.state.currentName}>\n    //     {this.props.productNames.map(product => <option>{product}</option>)}\n    //   </Form.Select>\n    // </Col>)\n    //\n    // var properties = this.state.currentProperty\n    // var keys = Object.keys(properties)\n    //\n    // for (var i = 0; i < keys.length; i++) {\n    //   var selections = properties[keys[i]].map(property => <option>{property}</option>)\n    //   selections.unshift(<option>{'Any'}</option>)\n    //\n    //   if (this.props.selectedProduct != null && this.props.selectedProduct.properties[this.props.id] != null) {\n    //     selections = selections.filter(option => option.props.children != this.props.selectedProduct.properties[this.props.id][keys[i]])\n    //     selections.unshift(<option>{this.props.selectedProduct.properties[this.props.id][keys[i]]}</option>)\n    //   }\n    //\n    //   hooks.push(<Col md = {3}>\n    //     <Form.Label id = \"property-select\">{keys[i]}</Form.Label>\n    //     <Form.Select id = \"property-select\" className = \"hooks-field\">\n    //       {selections}\n    //     </Form.Select>\n    //   </Col>)\n    // }\n    //\n    // hooks.push(<Col md = {3}>\n    //   <Form.Label className = \"end\" id = \"property-select\">Loss per Order</Form.Label>\n    //   <Form.Control id = \"property-select\" type=\"number\" placeholder=\"Enter Number\" className=\"losses-select hooks-field\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.losses[this.props.id] : ''}/>\n    // </Col>)\n\n    const noRows = Math.ceil(hooks.length / 4);\n    return Array.from(Array(noRows)).map((n, i) => /*#__PURE__*/_jsxDEV(Row, {\n      children: hooks.slice(i * 4, (i + 1) * 4)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.renderHooks()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (this.props.productNames.length == 0) {\n      axios.get(\"http://localhost:5000/hooks/getProperties/\" + (nextProps.selectedProduct != null && nextProps.selectedProduct.properties[nextProps.id] != null ? nextProps.productIds[nextProps.productNames.indexOf(nextProps.selectedProduct.hooks[nextProps.id])] : nextProps.productIds[0])).then(response => {\n        console.log(response.data);\n        this.setState({\n          currentProperty: response.data,\n          currentName: nextProps.selectedProduct != null ? nextProps.selectedProduct.hooks[nextProps.id] : '',\n          loaded: true\n        });\n      });\n    }\n  }\n\n}\n\nexport default class CreatePopup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hooks: 1,\n      edit: false\n    };\n    this.addHook = this.addHook.bind(this);\n    this.hidePopup = this.hidePopup.bind(this);\n    this.createTracker = this.createTracker.bind(this);\n    this.resetPopup = this.resetPopup.bind(this);\n    this.renderHooks = this.renderHooks.bind(this);\n    this.validateFields = this.validateFields.bind(this);\n  }\n\n  resetPopup() {\n    document.querySelectorAll('.pForm').forEach(form => {\n      console.log(form);\n      form.reset();\n    });\n    this.setState({\n      hooks: 1\n    });\n  }\n\n  hidePopup() {\n    document.querySelector('.popup-wrapper').style.display = \"none\";\n    document.querySelector(\"body\").style.overflow = \"visible\";\n    this.resetPopup();\n  }\n\n  async createTracker() {\n    if (!this.validateFields()) {\n      alert(\"Please fill out all fields\");\n    } else {\n      document.querySelector('.loading-wrapper').style.display = \"initial\";\n      var newTracker = {};\n      var fieldNames = [\"name\", \"qty\", 'link'];\n      var fieldValues = document.querySelectorAll('.popup-form');\n\n      for (var i = 0; i < fieldNames.length; i++) {\n        newTracker[fieldNames[i]] = fieldValues[i].value;\n      }\n\n      newTracker.hooks = Array.from(document.querySelectorAll('#hooks-select')).map(hook => hook.value);\n      newTracker.losses = Array.from(document.querySelectorAll('.losses-select')).map(loss => loss.value);\n      var properties = [];\n      var propertyList = document.querySelectorAll('#property-select');\n      var property = {};\n\n      for (var i = 0; i < propertyList.length; i += 2) {\n        if (propertyList[i].classList.contains(\"end\")) {\n          properties.push(property);\n          property = {};\n        } else {\n          property[propertyList[i].innerText] = propertyList[i + 1].value;\n        }\n      }\n\n      newTracker.properties = properties;\n\n      if (this.props.selectedProduct == null) {\n        axios.post(\"http://localhost:5000/trackers/addTracker\", newTracker).then(res => {\n          newTracker._id = res.data._id;\n          newTracker.imgSrc = res.data.src;\n          newTracker.buyDate = res.data.buyDate;\n          this.props.add(newTracker);\n          document.querySelector('.loading-wrapper').style.display = \"none\";\n          this.hidePopup();\n        });\n      } else {\n        newTracker._id = this.props.selectedProduct._id;\n        newTracker.imgSrc = this.props.selectedProduct.imgSrc;\n        var result = await axios.post(\"http://localhost:5000/trackers/updateTracker/\" + this.props.selectedProduct._id, newTracker);\n        newTracker.buyDate = result.data.buyDate;\n        this.props.updateProduct(newTracker);\n        document.querySelector('.loading-wrapper').style.display = \"none\";\n        this.hidePopup();\n      }\n    }\n  }\n\n  addHook() {\n    this.setState({\n      hooks: this.state.hooks + 1\n    });\n  }\n\n  renderHooks() {\n    var hookList = [];\n\n    for (var i = 0; i < this.state.hooks; i++) {\n      hookList.push( /*#__PURE__*/_jsxDEV(Hook, {\n        id: i,\n        productNames: this.props.productNames,\n        productIds: this.props.productIds,\n        selectedProduct: this.props.selectedProduct,\n        displayProperties: this.displayProperties\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 21\n      }, this));\n    }\n\n    return hookList;\n  }\n\n  validateFields() {\n    var textFields = document.querySelectorAll(\".popup-form\");\n\n    for (var i = 0; i < textFields.length; i++) {\n      if (textFields[i].value == \"\") {\n        return false;\n      }\n    }\n\n    var hookFields = document.querySelectorAll(\".hooks-field\");\n\n    for (var i = 0; i < hookFields.length; i++) {\n      if (hookFields[i].value == \"\") {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"popup-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"loading-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://upload.wikimedia.org/wikipedia/commons/7/7d/Pedro_luis_romani_ruiz.gif\",\n          class: \"popup-loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"popup\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          onClick: this.hidePopup,\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          fill: \"currentColor\",\n          class: \"bi bi-x-lg\",\n          viewBox: \"0 0 16 16\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          class: \"text-center\",\n          children: this.props.selectedProduct != null ? 'Edit Tracker' : 'Create Tracker'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          className: \"pForm\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              md: 8,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"popup-form\",\n                type: \"text\",\n                defaultValue: this.props.selectedProduct != null ? this.props.selectedProduct.name : '',\n                placeholder: \"Enter name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              md: 4,\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Starting Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"popup-form\",\n                type: \"number\",\n                defaultValue: this.props.selectedProduct != null ? this.props.selectedProduct.qty : '',\n                placeholder: \"Enter Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Amazon Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            className: \"popup-form\",\n            type: \"text\",\n            defaultValue: this.props.selectedProduct != null ? this.props.selectedProduct.link : '',\n            placeholder: \"Enter Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"hooks-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Hooks with Etsy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.addHook,\n            children: \"Add New Hook\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"hooks\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"pForm\",\n            children: this.renderHooks()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.createTracker,\n          id: \"create-tracker-btn\",\n          children: this.props.selectedProduct != null ? 'Edit Tracker' : 'Create Tracker'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (document.querySelector('.popup-wrapper').style.display == \"initial\") {\n      document.querySelector(\"body\").style.overflow = \"hidden\";\n    }\n\n    if (nextProps.selectedProduct != null) {\n      console.log(nextProps.selectedProduct);\n      this.setState({\n        hooks: nextProps.selectedProduct.hooks.length\n      });\n    }\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/src/components/CreatePopup.js"],"names":["React","Form","Row","Col","Button","ReactDOM","axios","Hook","Component","constructor","props","state","currentProperty","currentName","selectedProduct","hooks","id","loaded","productIds","get","properties","productNames","indexOf","then","response","setState","data","displayProperties","bind","renderHooks","event","target","value","selectedIndex","noRows","Math","ceil","length","Array","from","map","n","i","slice","render","UNSAFE_componentWillReceiveProps","nextProps","console","log","CreatePopup","edit","addHook","hidePopup","createTracker","resetPopup","validateFields","document","querySelectorAll","forEach","form","reset","querySelector","style","display","overflow","alert","newTracker","fieldNames","fieldValues","hook","losses","loss","propertyList","property","classList","contains","push","innerText","post","res","_id","imgSrc","src","buyDate","add","result","updateProduct","hookList","textFields","hookFields","name","qty","link"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport ReactDOM from 'react-dom'\r\nimport axios from \"axios\";\r\n\r\nclass Hook extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      currentProperty: {},\r\n      currentName: props.selectedProduct != null ? props.selectedProduct.hooks[props.id] : '',\r\n      loaded: false\r\n    }\r\n\r\n    if (this.props.productIds[0] != null) {\r\n      axios.get(\"http://localhost:5000/hooks/getProperties/\" + (this.props.selectedProduct != null && this.props.selectedProduct.properties[this.props.id] != null ? this.props.productIds[this.props.productNames.indexOf(this.props.selectedProduct.hooks[this.props.id])] : this.props.productIds[0]))\r\n        .then(response => {\r\n          this.setState({\r\n            currentProperty: response.data\r\n          })\r\n        })\r\n    }\r\n\r\n    this.displayProperties = this.displayProperties.bind(this)\r\n    this.renderHooks = this.renderHooks.bind(this)\r\n  }\r\n\r\n  displayProperties(event) {\r\n    this.setState({\r\n      currentName: event.target.value\r\n    })\r\n    axios.get(\"http://localhost:5000/hooks/getProperties/\" + this.props.productIds[event.target.selectedIndex])\r\n      .then(response => {\r\n        this.setState({\r\n          currentProperty: response.data\r\n        })\r\n      })\r\n  }\r\n\r\n  renderHooks() {\r\n    var hooks = []\r\n\r\n    // hooks.push(<Col md = {3}>\r\n    //   <Form.Label>Product</Form.Label>\r\n    //   <Form.Select onChange={this.displayProperties} className=\"form-control hooks-field\" id=\"hooks-select\" value={this.state.currentName}>\r\n    //     {this.props.productNames.map(product => <option>{product}</option>)}\r\n    //   </Form.Select>\r\n    // </Col>)\r\n    //\r\n    // var properties = this.state.currentProperty\r\n    // var keys = Object.keys(properties)\r\n    //\r\n    // for (var i = 0; i < keys.length; i++) {\r\n    //   var selections = properties[keys[i]].map(property => <option>{property}</option>)\r\n    //   selections.unshift(<option>{'Any'}</option>)\r\n    //\r\n    //   if (this.props.selectedProduct != null && this.props.selectedProduct.properties[this.props.id] != null) {\r\n    //     selections = selections.filter(option => option.props.children != this.props.selectedProduct.properties[this.props.id][keys[i]])\r\n    //     selections.unshift(<option>{this.props.selectedProduct.properties[this.props.id][keys[i]]}</option>)\r\n    //   }\r\n    //\r\n    //   hooks.push(<Col md = {3}>\r\n    //     <Form.Label id = \"property-select\">{keys[i]}</Form.Label>\r\n    //     <Form.Select id = \"property-select\" className = \"hooks-field\">\r\n    //       {selections}\r\n    //     </Form.Select>\r\n    //   </Col>)\r\n    // }\r\n    //\r\n    // hooks.push(<Col md = {3}>\r\n    //   <Form.Label className = \"end\" id = \"property-select\">Loss per Order</Form.Label>\r\n    //   <Form.Control id = \"property-select\" type=\"number\" placeholder=\"Enter Number\" className=\"losses-select hooks-field\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.losses[this.props.id] : ''}/>\r\n    // </Col>)\r\n\r\n    const noRows = Math.ceil(hooks.length / 4);\r\n\r\n    return Array.from(Array(noRows)).map((n, i) => (\r\n      <Row>\r\n       {hooks.slice(i* 4, (i + 1)* 4)}\r\n      </Row>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderHooks()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.productNames.length == 0) {\r\n      axios.get(\"http://localhost:5000/hooks/getProperties/\" + (nextProps.selectedProduct != null && nextProps.selectedProduct.properties[nextProps.id] != null ? nextProps.productIds[nextProps.productNames.indexOf(nextProps.selectedProduct.hooks[nextProps.id])] : nextProps.productIds[0]))\r\n        .then(response => {\r\n          console.log(response.data)\r\n          this.setState({\r\n            currentProperty: response.data,\r\n            currentName: nextProps.selectedProduct != null ? nextProps.selectedProduct.hooks[nextProps.id] : '',\r\n            loaded: true\r\n          })\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\nexport default class CreatePopup extends React.Component{\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      hooks: 1,\r\n      edit: false\r\n    }\r\n\r\n    this.addHook = this.addHook.bind(this)\r\n    this.hidePopup = this.hidePopup.bind(this)\r\n    this.createTracker = this.createTracker.bind(this)\r\n    this.resetPopup = this.resetPopup.bind(this)\r\n    this.renderHooks = this.renderHooks.bind(this)\r\n    this.validateFields = this.validateFields.bind(this)\r\n  }\r\n\r\n  resetPopup() {\r\n    document.querySelectorAll('.pForm').forEach(form => {\r\n      console.log(form)\r\n      form.reset()\r\n    })\r\n\r\n    this.setState({\r\n      hooks: 1\r\n    })\r\n  }\r\n\r\n  hidePopup() {\r\n      document.querySelector('.popup-wrapper').style.display = \"none\"\r\n      document.querySelector(\"body\").style.overflow = \"visible\";\r\n      this.resetPopup()\r\n  }\r\n\r\n  async createTracker() {\r\n\r\n    if (!this.validateFields()) {\r\n      alert(\"Please fill out all fields\")\r\n    }\r\n    else {\r\n      document.querySelector('.loading-wrapper').style.display = \"initial\"\r\n\r\n      var newTracker = {}\r\n      var fieldNames = [\"name\", \"qty\", 'link']\r\n      var fieldValues = document.querySelectorAll('.popup-form')\r\n\r\n      for (var i = 0; i < fieldNames.length; i++) {\r\n        newTracker[fieldNames[i]] = fieldValues[i].value\r\n      }\r\n\r\n      newTracker.hooks = Array.from(document.querySelectorAll('#hooks-select')).map(hook => hook.value)\r\n      newTracker.losses = Array.from(document.querySelectorAll('.losses-select')).map(loss => loss.value)\r\n\r\n      var properties = []\r\n      var propertyList = document.querySelectorAll('#property-select')\r\n      var property = {}\r\n      for (var i = 0; i < propertyList.length; i += 2) {\r\n\r\n        if (propertyList[i].classList.contains(\"end\")) {\r\n\r\n          properties.push(property)\r\n          property = {}\r\n        }\r\n        else {\r\n          property[propertyList[i].innerText] = propertyList[i + 1].value\r\n        }\r\n      }\r\n\r\n      newTracker.properties = properties\r\n\r\n      if (this.props.selectedProduct == null) {\r\n        axios.post(\"http://localhost:5000/trackers/addTracker\", newTracker)\r\n          .then(res => {\r\n            newTracker._id = res.data._id\r\n            newTracker.imgSrc = res.data.src\r\n            newTracker.buyDate = res.data.buyDate\r\n\r\n            this.props.add(newTracker)\r\n\r\n            document.querySelector('.loading-wrapper').style.display = \"none\"\r\n            this.hidePopup()\r\n          })\r\n      }\r\n      else {\r\n        newTracker._id = this.props.selectedProduct._id\r\n        newTracker.imgSrc = this.props.selectedProduct.imgSrc\r\n\r\n        var result = await axios.post(\"http://localhost:5000/trackers/updateTracker/\" + this.props.selectedProduct._id, newTracker)\r\n        newTracker.buyDate = result.data.buyDate\r\n        this.props.updateProduct(newTracker)\r\n\r\n        document.querySelector('.loading-wrapper').style.display = \"none\"\r\n        this.hidePopup()\r\n      }\r\n    }\r\n  }\r\n\r\n  addHook() {\r\n    this.setState({\r\n      hooks: this.state.hooks + 1\r\n    })\r\n  }\r\n\r\n  renderHooks() {\r\n    var hookList = []\r\n\r\n    for (var i = 0; i < this.state.hooks; i++) {\r\n      hookList.push(<Hook id = {i} key = {i} productNames = {this.props.productNames} productIds = {this.props.productIds} selectedProduct={this.props.selectedProduct} displayProperties={this.displayProperties}/>)\r\n    }\r\n\r\n    return hookList\r\n  }\r\n\r\n  validateFields() {\r\n\r\n    var textFields = document.querySelectorAll(\".popup-form\")\r\n    for (var i = 0; i < textFields.length; i++) {\r\n      if (textFields[i].value == \"\") {\r\n        return false\r\n      }\r\n    }\r\n\r\n    var hookFields = document.querySelectorAll(\".hooks-field\")\r\n    for (var i = 0; i < hookFields.length; i++) {\r\n      if (hookFields[i].value == \"\") {\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class = \"popup-wrapper\">\r\n        <div class = \"loading-wrapper\">\r\n          <img src = \"https://upload.wikimedia.org/wikipedia/commons/7/7d/Pedro_luis_romani_ruiz.gif\" class = \"popup-loading\"></img>\r\n        </div>\r\n        <div class = \"popup\">\r\n          <svg onClick={this.hidePopup} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-lg\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n          </svg>\r\n          <h1 class = \"text-center\">{this.props.selectedProduct != null ? 'Edit Tracker' : 'Create Tracker'}</h1>\r\n          <Form className = \"pForm\">\r\n            <Row>\r\n              <Col md = {8}>\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control className = \"popup-form\" type=\"text\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.name : ''} placeholder=\"Enter name\" />\r\n              </Col>\r\n              <Col md = {4}>\r\n                <Form.Label>Starting Quantity</Form.Label>\r\n                <Form.Control className = \"popup-form\" type=\"number\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.qty : ''} placeholder=\"Enter Number\" />\r\n              </Col>\r\n            </Row>\r\n            <Form.Label>Amazon Link</Form.Label>\r\n            <Form.Control className = \"popup-form\" type=\"text\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.link : ''} placeholder=\"Enter Link\" />\r\n          </Form>\r\n\r\n          <div class = \"hooks-header\">\r\n            <h3>Hooks with Etsy</h3>\r\n            <Button onClick = {this.addHook}>Add New Hook</Button>\r\n          </div>\r\n          <div class = \"hooks\">\r\n            <form className = \"pForm\">\r\n              {this.renderHooks()}\r\n            </form>\r\n          </div>\r\n\r\n          <Button onClick = {this.createTracker} id = \"create-tracker-btn\">{this.props.selectedProduct != null ? 'Edit Tracker' : 'Create Tracker'}</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (document.querySelector('.popup-wrapper').style.display == \"initial\") {\r\n      document.querySelector(\"body\").style.overflow = \"hidden\";\r\n    }\r\n\r\n    if (nextProps.selectedProduct != null) {\r\n      console.log(nextProps.selectedProduct)\r\n      this.setState({\r\n        hooks: nextProps.selectedProduct.hooks.length\r\n      })\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}