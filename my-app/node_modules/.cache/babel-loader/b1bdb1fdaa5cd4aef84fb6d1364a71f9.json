{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import logo from\"./logo.svg\";import'./App.css';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';import ProductDisplay from'./components/ProductDisplay.js';import NavbarHead from'./components/NavbarHead.js';import CreatePopup from'./components/CreatePopup.js';import'bootstrap/dist/css/bootstrap.min.css';import axios from\"axios\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={productList:[],productNames:[],productIds:[],selectedProduct:null,loaded:false};_this.renderProducts=_this.renderProducts.bind(_assertThisInitialized(_this));_this.addProduct=_this.addProduct.bind(_assertThisInitialized(_this));_this.deleteProduct=_this.deleteProduct.bind(_assertThisInitialized(_this));_this.editProduct=_this.editProduct.bind(_assertThisInitialized(_this));_this.loadPopup=_this.loadPopup.bind(_assertThisInitialized(_this));_this.updateProduct=_this.updateProduct.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"renderProducts\",value:function renderProducts(){var products=[];for(var i=0;i<this.state.productList.length;i++){var product=/*#__PURE__*/_jsx(ProductDisplay,{id:i,img:this.state.productList[i].imgSrc,name:this.state.productList[i].name,qty:this.state.productList[i].qty,date:this.state.productList[i].buyDate,delete:this.deleteProduct,edit:this.editProduct},i);products.push(product);}var noRows=Math.ceil(this.state.productList.length/4);return Array.from(Array(noRows)).map(function(n,i){return/*#__PURE__*/_jsx(Row,{className:\"product-row\",children:products.slice(i*4,(i+1)*4)});});}},{key:\"addProduct\",value:function addProduct(product){this.setState({productList:this.state.productList.concat([product])});}},{key:\"updateProduct\",value:function updateProduct(product){var index=this.state.productList.findIndex(function(item){return item._id===product._id;});var copy=_toConsumableArray(this.state.productList);copy[index]=product;console.log(copy,index,product);this.setState({productList:copy});}},{key:\"deleteProduct\",value:function deleteProduct(index){axios.delete(\"http://localhost:5000/trackers/deleteTracker/\"+this.state.productList[index]._id).then(function(response){console.log(response);});this.setState({productList:this.state.productList.filter(function(_,i){return i!==index;})});}},{key:\"editProduct\",value:function editProduct(index){this.setState({selectedProduct:this.state.productList[index]});document.querySelector('.popup-wrapper').style.display=\"initial\";}},{key:\"loadPopup\",value:function loadPopup(){this.setState({selectedProduct:null});document.querySelector('.popup-wrapper').style.display=\"initial\";}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavbarHead,{loadPopup:this.loadPopup,loaded:this.state.loaded}),/*#__PURE__*/_jsx(CreatePopup,{add:this.addProduct,productNames:this.state.productNames,productIds:this.state.productIds,selectedProduct:this.state.selectedProduct,updateProduct:this.updateProduct}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/7/7d/Pedro_luis_romani_ruiz.gif\",class:\"loading\"}),this.renderProducts()]})]});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"http://localhost:5000/hooks/getProducts\").then(function(response){_this2.setState({productNames:response.data.map(function(product){return product.title;}),productIds:response.data.map(function(product){return product.listing_id;})});console.log(_this2.state.productIds);});axios.get(\"http://localhost:5000/trackers/getTrackers\").then(function(response){document.querySelector(\".loading\").style.display=\"none\";_this2.setState({productList:response.data,loaded:true});});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/src/App.js"],"names":["Container","Row","Col","Button","ProductDisplay","NavbarHead","CreatePopup","axios","React","App","props","state","productList","productNames","productIds","selectedProduct","loaded","renderProducts","bind","addProduct","deleteProduct","editProduct","loadPopup","updateProduct","products","i","length","product","imgSrc","name","qty","buyDate","push","noRows","Math","ceil","Array","from","map","n","slice","setState","concat","index","findIndex","item","_id","copy","console","log","delete","then","response","filter","_","document","querySelector","style","display","get","data","title","listing_id","Component"],"mappings":"2kCACA,MAAO,WAAP,CACA,MAAOA,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,gCAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,4BAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,6BAAxB,CACA,MAAO,sCAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2FAEMC,CAAAA,G,sGAEJ,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,WAAW,CAAE,EADF,CAEXC,YAAY,CAAE,EAFH,CAGXC,UAAU,CAAE,EAHD,CAIXC,eAAe,CAAE,IAJN,CAKXC,MAAM,CAAE,KALG,CAAb,CAQA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB,CACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CACA,MAAKE,aAAL,CAAqB,MAAKA,aAAL,CAAmBF,IAAnB,+BAArB,CACA,MAAKG,WAAL,CAAmB,MAAKA,WAAL,CAAiBH,IAAjB,+BAAnB,CACA,MAAKI,SAAL,CAAiB,MAAKA,SAAL,CAAeJ,IAAf,+BAAjB,CACA,MAAKK,aAAL,CAAqB,MAAKA,aAAL,CAAmBL,IAAnB,+BAArB,CAhBiB,aAiBlB,C,8CAED,yBAAiB,CACf,GAAIM,CAAAA,QAAQ,CAAG,EAAf,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,KAAKd,KAAL,CAAWC,WAAX,CAAuBc,MAA3C,CAAmDD,CAAC,EAApD,CAAwD,CACtD,GAAIE,CAAAA,OAAO,cAAG,KAAC,cAAD,EAAgB,EAAE,CAAIF,CAAtB,CAAiC,GAAG,CAAE,KAAKd,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BG,MAAhE,CAAwE,IAAI,CAAI,KAAKjB,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BI,IAA1G,CAAgH,GAAG,CAAI,KAAKlB,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BK,GAAjJ,CAAsJ,IAAI,CAAI,KAAKnB,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BM,OAAxL,CAAiM,MAAM,CAAI,KAAKX,aAAhN,CAA+N,IAAI,CAAI,KAAKC,WAA5O,EAA8BI,CAA9B,CAAd,CACAD,QAAQ,CAACQ,IAAT,CAAcL,OAAd,EACD,CAED,GAAMM,CAAAA,MAAM,CAAGC,IAAI,CAACC,IAAL,CAAU,KAAKxB,KAAL,CAAWC,WAAX,CAAuBc,MAAvB,CAAgC,CAA1C,CAAf,CAEA,MAAOU,CAAAA,KAAK,CAACC,IAAN,CAAWD,KAAK,CAACH,MAAD,CAAhB,EAA0BK,GAA1B,CAA8B,SAACC,CAAD,CAAId,CAAJ,qBACnC,KAAC,GAAD,EAAK,SAAS,CAAG,aAAjB,UACED,QAAQ,CAACgB,KAAT,CAAef,CAAC,CAAE,CAAlB,CAAqB,CAACA,CAAC,CAAG,CAAL,EAAS,CAA9B,CADF,EADmC,EAA9B,CAAP,CAKD,C,0BAED,oBAAWE,OAAX,CAAoB,CAClB,KAAKc,QAAL,CAAc,CACX7B,WAAW,CAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuB8B,MAAvB,CAA8B,CAACf,OAAD,CAA9B,CADF,CAAd,EAGD,C,6BAED,uBAAcA,OAAd,CAAuB,CACrB,GAAIgB,CAAAA,KAAK,CAAG,KAAKhC,KAAL,CAAWC,WAAX,CAAuBgC,SAAvB,CAAiC,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,GAAL,GAAanB,OAAO,CAACmB,GAAzB,EAArC,CAAZ,CACA,GAAIC,CAAAA,IAAI,oBAAO,KAAKpC,KAAL,CAAWC,WAAlB,CAAR,CAEAmC,IAAI,CAACJ,KAAD,CAAJ,CAAchB,OAAd,CACAqB,OAAO,CAACC,GAAR,CAAYF,IAAZ,CAAkBJ,KAAlB,CAAyBhB,OAAzB,EACA,KAAKc,QAAL,CAAc,CACZ7B,WAAW,CAAEmC,IADD,CAAd,EAGD,C,6BAED,uBAAcJ,KAAd,CAAqB,CACnBpC,KAAK,CAAC2C,MAAN,CAAa,gDAAkD,KAAKvC,KAAL,CAAWC,WAAX,CAAuB+B,KAAvB,EAA8BG,GAA7F,EACGK,IADH,CACQ,SAAAC,QAAQ,CAAI,CACdJ,OAAO,CAACC,GAAR,CAAYG,QAAZ,EACH,CAHH,EAKA,KAAKX,QAAL,CAAc,CACZ7B,WAAW,CAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuByC,MAAvB,CAA8B,SAACC,CAAD,CAAI7B,CAAJ,QAAUA,CAAAA,CAAC,GAAKkB,KAAhB,EAA9B,CADD,CAAd,EAGD,C,2BAED,qBAAYA,KAAZ,CAAmB,CACjB,KAAKF,QAAL,CAAc,CACZ1B,eAAe,CAAE,KAAKJ,KAAL,CAAWC,WAAX,CAAuB+B,KAAvB,CADL,CAAd,EAIAY,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,CAAyD,SAAzD,CACD,C,yBAED,oBAAY,CACV,KAAKjB,QAAL,CAAc,CACZ1B,eAAe,CAAE,IADL,CAAd,EAIAwC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,CAAyD,SAAzD,CACD,C,sBAED,iBAAS,CACP,mBACE,oCACE,KAAC,UAAD,EAAY,SAAS,CAAI,KAAKpC,SAA9B,CAAyC,MAAM,CAAI,KAAKX,KAAL,CAAWK,MAA9D,EADF,cAEE,KAAC,WAAD,EAAa,GAAG,CAAI,KAAKG,UAAzB,CAAqC,YAAY,CAAI,KAAKR,KAAL,CAAWE,YAAhE,CAA8E,UAAU,CAAI,KAAKF,KAAL,CAAWG,UAAvG,CAAmH,eAAe,CAAI,KAAKH,KAAL,CAAWI,eAAjJ,CAAkK,aAAa,CAAI,KAAKQ,aAAxL,EAFF,cAIE,MAAC,SAAD,yBACE,YAAK,GAAG,CAAG,gFAAX,CAA4F,KAAK,CAAG,SAApG,EADF,CAEG,KAAKN,cAAL,EAFH,GAJF,GADF,CAWD,C,iCAED,4BAAoB,iBAClBV,KAAK,CAACoD,GAAN,CAAU,yCAAV,EACGR,IADH,CACQ,SAAAC,QAAQ,CAAI,CACd,MAAI,CAACX,QAAL,CAAc,CACZ5B,YAAY,CAAEuC,QAAQ,CAACQ,IAAT,CAActB,GAAd,CAAkB,SAAAX,OAAO,QAAIA,CAAAA,OAAO,CAACkC,KAAZ,EAAzB,CADF,CAEZ/C,UAAU,CAAEsC,QAAQ,CAACQ,IAAT,CAActB,GAAd,CAAkB,SAAAX,OAAO,QAAIA,CAAAA,OAAO,CAACmC,UAAZ,EAAzB,CAFA,CAAd,EAKAd,OAAO,CAACC,GAAR,CAAY,MAAI,CAACtC,KAAL,CAAWG,UAAvB,EACH,CARH,EAUAP,KAAK,CAACoD,GAAN,CAAU,4CAAV,EACGR,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBG,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,KAAnC,CAAyCC,OAAzC,CAAmD,MAAnD,CACA,MAAI,CAACjB,QAAL,CAAc,CACZ7B,WAAW,CAAEwC,QAAQ,CAACQ,IADV,CAEZ5C,MAAM,CAAE,IAFI,CAAd,EAID,CAPH,EAQD,C,iBAlHeR,KAAK,CAACuD,S,EAqHxB,cAAetD,CAAAA,GAAf","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport ProductDisplay from './components/ProductDisplay.js'\nimport NavbarHead from './components/NavbarHead.js'\nimport CreatePopup from './components/CreatePopup.js'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from \"axios\";\nimport React from \"react\";\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      productList: [],\n      productNames: [],\n      productIds: [],\n      selectedProduct: null,\n      loaded: false\n    }\n\n    this.renderProducts = this.renderProducts.bind(this)\n    this.addProduct = this.addProduct.bind(this)\n    this.deleteProduct = this.deleteProduct.bind(this)\n    this.editProduct = this.editProduct.bind(this)\n    this.loadPopup = this.loadPopup.bind(this)\n    this.updateProduct = this.updateProduct.bind(this)\n  }\n\n  renderProducts() {\n    var products = []\n    for (var i = 0; i < this.state.productList.length; i++) {\n      var product = <ProductDisplay id = {i} key={i} img={this.state.productList[i].imgSrc} name = {this.state.productList[i].name} qty = {this.state.productList[i].qty} date = {this.state.productList[i].buyDate} delete = {this.deleteProduct} edit = {this.editProduct}/>\n      products.push(product)\n    }\n\n    const noRows = Math.ceil(this.state.productList.length / 4);\n\n    return Array.from(Array(noRows)).map((n, i) => (\n      <Row className = \"product-row\">\n       {products.slice(i* 4, (i + 1)* 4)}\n      </Row>\n    ));\n  }\n\n  addProduct(product) {\n    this.setState({\n       productList: this.state.productList.concat([product])\n    })\n  }\n\n  updateProduct(product) {\n    var index = this.state.productList.findIndex(item => item._id === product._id)\n    var copy = [...this.state.productList]\n\n    copy[index] = product\n    console.log(copy, index, product)\n    this.setState({\n      productList: copy\n    })\n  }\n\n  deleteProduct(index) {\n    axios.delete(\"http://localhost:5000/trackers/deleteTracker/\" + this.state.productList[index]._id)\n      .then(response => {\n          console.log(response)\n      });\n\n    this.setState({\n      productList: this.state.productList.filter((_, i) => i !== index)\n    })\n  }\n\n  editProduct(index) {\n    this.setState({\n      selectedProduct: this.state.productList[index]\n    })\n\n    document.querySelector('.popup-wrapper').style.display = \"initial\"\n  }\n\n  loadPopup() {\n    this.setState({\n      selectedProduct: null\n    })\n\n    document.querySelector('.popup-wrapper').style.display = \"initial\"\n  }\n\n  render() {\n    return (\n      <div>\n        <NavbarHead loadPopup = {this.loadPopup} loaded = {this.state.loaded}/>\n        <CreatePopup add = {this.addProduct} productNames = {this.state.productNames} productIds = {this.state.productIds} selectedProduct = {this.state.selectedProduct} updateProduct = {this.updateProduct}/>\n\n        <Container>\n          <img src = \"https://upload.wikimedia.org/wikipedia/commons/7/7d/Pedro_luis_romani_ruiz.gif\" class = \"loading\"></img>\n          {this.renderProducts()}\n        </Container>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/hooks/getProducts\")\n      .then(response => {\n          this.setState({\n            productNames: response.data.map(product => product.title),\n            productIds: response.data.map(product => product.listing_id)\n          })\n\n          console.log(this.state.productIds)\n      });\n\n    axios.get(\"http://localhost:5000/trackers/getTrackers\")\n      .then(response => {\n        document.querySelector(\".loading\").style.display = \"none\"\n        this.setState({\n          productList: response.data,\n          loaded: true\n        })\n      })\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}