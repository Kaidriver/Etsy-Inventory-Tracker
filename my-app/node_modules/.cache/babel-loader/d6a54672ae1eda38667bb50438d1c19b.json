{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Form from'react-bootstrap/Form';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import Button from'react-bootstrap/Button';import ReactDOM from'react-dom';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Hook=/*#__PURE__*/function(_React$Component){_inherits(Hook,_React$Component);var _super=_createSuper(Hook);function Hook(props){var _this;_classCallCheck(this,Hook);_this=_super.call(this,props);_this.state={currentProperty:{},currentName:props.selectedProduct!=null?props.selectedProduct.hooks[props.id]:'',loaded:false};if(_this.props.productIds[0]!=null){axios.get(\"http://localhost:5000/hooks/getProperties/\"+(_this.props.selectedProduct!=null&&_this.props.selectedProduct.properties[_this.props.id]!=null?_this.props.productIds[_this.props.productNames.indexOf(_this.props.selectedProduct.hooks[_this.props.id])]:_this.props.productIds[0])).then(function(response){_this.setState({currentProperty:response.data});});}_this.displayProperties=_this.displayProperties.bind(_assertThisInitialized(_this));_this.renderHooks=_this.renderHooks.bind(_assertThisInitialized(_this));return _this;}_createClass(Hook,[{key:\"displayProperties\",value:function displayProperties(event){var _this2=this;this.setState({currentName:event.target.value});axios.get(\"http://localhost:5000/hooks/getProperties/\"+this.props.productIds[event.target.selectedIndex]).then(function(response){_this2.setState({currentProperty:response.data});});}},{key:\"renderHooks\",value:function renderHooks(){var _this3=this;var hooks=[];hooks.push(/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Product\"}),/*#__PURE__*/_jsx(Form.Select,{onChange:this.displayProperties,className:\"form-control hooks-field\",id:\"hooks-select\",value:this.state.currentName,children:this.props.productNames.map(function(product){return/*#__PURE__*/_jsx(\"option\",{children:product});})})]}));var properties=this.state.currentProperty;var keys=Object.keys(properties);for(var i=0;i<keys.length;i++){var selections=properties[keys[i]].map(function(property){return/*#__PURE__*/_jsx(\"option\",{children:property});});selections.unshift(/*#__PURE__*/_jsx(\"option\",{children:'Any'}));if(this.props.selectedProduct!=null&&this.props.selectedProduct.properties[this.props.id]!=null){selections=selections.filter(function(option){return option.props.children!=_this3.props.selectedProduct.properties[_this3.props.id][keys[i]];});selections.unshift(/*#__PURE__*/_jsx(\"option\",{children:this.props.selectedProduct.properties[this.props.id][keys[i]]}));}hooks.push(/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(Form.Label,{id:\"property-select\",children:keys[i]}),/*#__PURE__*/_jsx(Form.Select,{id:\"property-select\",className:\"hooks-field\",children:selections})]}));}hooks.push(/*#__PURE__*/_jsxs(Col,{md:3,children:[/*#__PURE__*/_jsx(Form.Label,{className:\"end\",id:\"property-select\",children:\"Loss per Order\"}),/*#__PURE__*/_jsx(Form.Control,{id:\"property-select\",type:\"number\",placeholder:\"Enter Number\",className:\"losses-select hooks-field\",defaultValue:this.props.selectedProduct!=null?this.props.selectedProduct.losses[this.props.id]:''})]}));var noRows=Math.ceil(hooks.length/4);return Array.from(Array(noRows)).map(function(n,i){return/*#__PURE__*/_jsx(Row,{children:hooks.slice(i*4,(i+1)*4)});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:this.renderHooks()});}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){var _this4=this;if(this.props.productNames.length==0){axios.get(\"http://localhost:5000/hooks/getProperties/\"+(nextProps.selectedProduct!=null&&nextProps.selectedProduct.properties[nextProps.id]!=null?nextProps.productIds[nextProps.productNames.indexOf(nextProps.selectedProduct.hooks[nextProps.id])]:nextProps.productIds[0])).then(function(response){console.log(response.data);_this4.setState({currentProperty:response.data,currentName:nextProps.selectedProduct!=null?nextProps.selectedProduct.hooks[nextProps.id]:'',loaded:true});});}}}]);return Hook;}(React.Component);var CreatePopup=/*#__PURE__*/function(_React$Component2){_inherits(CreatePopup,_React$Component2);var _super2=_createSuper(CreatePopup);function CreatePopup(props){var _this5;_classCallCheck(this,CreatePopup);_this5=_super2.call(this,props);_this5.state={hooks:1,edit:false};_this5.addHook=_this5.addHook.bind(_assertThisInitialized(_this5));_this5.hidePopup=_this5.hidePopup.bind(_assertThisInitialized(_this5));_this5.createTracker=_this5.createTracker.bind(_assertThisInitialized(_this5));_this5.resetPopup=_this5.resetPopup.bind(_assertThisInitialized(_this5));_this5.renderHooks=_this5.renderHooks.bind(_assertThisInitialized(_this5));_this5.validateFields=_this5.validateFields.bind(_assertThisInitialized(_this5));return _this5;}_createClass(CreatePopup,[{key:\"resetPopup\",value:function resetPopup(){document.querySelectorAll('.pForm').forEach(function(form){console.log(form);form.reset();});this.setState({hooks:1});}},{key:\"hidePopup\",value:function hidePopup(){document.querySelector('.popup-wrapper').style.display=\"none\";document.querySelector(\"body\").style.overflow=\"visible\";this.resetPopup();}},{key:\"createTracker\",value:function(){var _createTracker=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this6=this;var newTracker,fieldNames,fieldValues,i,properties,propertyList,property,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(this.validateFields()){_context.next=4;break;}alert(\"Please fill out all fields\");_context.next=29;break;case 4:document.querySelector('.loading-wrapper').style.display=\"initial\";newTracker={};fieldNames=[\"name\",\"qty\",'link'];fieldValues=document.querySelectorAll('.popup-form');for(i=0;i<fieldNames.length;i++){newTracker[fieldNames[i]]=fieldValues[i].value;}newTracker.hooks=Array.from(document.querySelectorAll('#hooks-select')).map(function(hook){return hook.value;});newTracker.losses=Array.from(document.querySelectorAll('.losses-select')).map(function(loss){return loss.value;});properties=[];propertyList=document.querySelectorAll('#property-select');property={};for(i=0;i<propertyList.length;i+=2){if(propertyList[i].classList.contains(\"end\")){properties.push(property);property={};}else{property[propertyList[i].innerText]=propertyList[i+1].value;}}newTracker.properties=properties;if(!(this.props.selectedProduct==null)){_context.next=20;break;}axios.post(\"http://localhost:5000/trackers/addTracker\",newTracker).then(function(res){newTracker._id=res.data._id;newTracker.imgSrc=res.data.src;newTracker.buyDate=res.data.buyDate;_this6.props.add(newTracker);document.querySelector('.loading-wrapper').style.display=\"none\";_this6.hidePopup();});_context.next=29;break;case 20:newTracker._id=this.props.selectedProduct._id;newTracker.imgSrc=this.props.selectedProduct.imgSrc;_context.next=24;return axios.post(\"http://localhost:5000/trackers/updateTracker/\"+this.props.selectedProduct._id,newTracker);case 24:result=_context.sent;newTracker.buyDate=result.data.buyDate;this.props.updateProduct(newTracker);document.querySelector('.loading-wrapper').style.display=\"none\";this.hidePopup();case 29:case\"end\":return _context.stop();}}},_callee,this);}));function createTracker(){return _createTracker.apply(this,arguments);}return createTracker;}()},{key:\"addHook\",value:function addHook(){this.setState({hooks:this.state.hooks+1});}},{key:\"renderHooks\",value:function renderHooks(){var hookList=[];for(var i=0;i<this.state.hooks;i++){hookList.push(/*#__PURE__*/_jsx(Hook,{id:i,productNames:this.props.productNames,productIds:this.props.productIds,selectedProduct:this.props.selectedProduct,displayProperties:this.displayProperties},i));}return hookList;}},{key:\"validateFields\",value:function validateFields(){var textFields=document.querySelectorAll(\".popup-form\");for(var i=0;i<textFields.length;i++){if(textFields[i].value==\"\"){return false;}}var hookFields=document.querySelectorAll(\".hooks-field\");for(var i=0;i<hookFields.length;i++){if(hookFields[i].value==\"\"){return false;}}return true;}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{class:\"popup-wrapper\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"loading-wrapper\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/7/7d/Pedro_luis_romani_ruiz.gif\",class:\"popup-loading\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"popup\",children:[/*#__PURE__*/_jsx(\"svg\",{onClick:this.hidePopup,xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",class:\"bi bi-x-lg\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"})}),/*#__PURE__*/_jsx(\"h1\",{class:\"text-center\",children:this.props.selectedProduct!=null?'Edit Tracker':'Create Tracker'}),/*#__PURE__*/_jsxs(Form,{className:\"pForm\",children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"popup-form\",type:\"text\",defaultValue:this.props.selectedProduct!=null?this.props.selectedProduct.name:'',placeholder:\"Enter name\"})]}),/*#__PURE__*/_jsxs(Col,{md:4,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Starting Quantity\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"popup-form\",type:\"number\",defaultValue:this.props.selectedProduct!=null?this.props.selectedProduct.qty:'',placeholder:\"Enter Number\"})]})]}),/*#__PURE__*/_jsx(Form.Label,{children:\"Amazon Link\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"popup-form\",type:\"text\",defaultValue:this.props.selectedProduct!=null?this.props.selectedProduct.link:'',placeholder:\"Enter Link\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"hooks-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Hooks with Etsy\"}),/*#__PURE__*/_jsx(Button,{onClick:this.addHook,children:\"Add New Hook\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"hooks\",children:/*#__PURE__*/_jsx(\"form\",{className:\"pForm\",children:this.renderHooks()})}),/*#__PURE__*/_jsx(Button,{onClick:this.createTracker,id:\"create-tracker-btn\",children:this.props.selectedProduct!=null?'Edit Tracker':'Create Tracker'})]})]});}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(document.querySelector('.popup-wrapper').style.display==\"initial\"){document.querySelector(\"body\").style.overflow=\"hidden\";}if(nextProps.selectedProduct!=null){console.log(nextProps.selectedProduct);this.setState({hooks:nextProps.selectedProduct.hooks.length});}}}]);return CreatePopup;}(React.Component);export{CreatePopup as default};","map":{"version":3,"sources":["C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/src/components/CreatePopup.js"],"names":["React","Form","Row","Col","Button","ReactDOM","axios","Hook","props","state","currentProperty","currentName","selectedProduct","hooks","id","loaded","productIds","get","properties","productNames","indexOf","then","response","setState","data","displayProperties","bind","renderHooks","event","target","value","selectedIndex","push","map","product","keys","Object","i","length","selections","property","unshift","filter","option","children","losses","noRows","Math","ceil","Array","from","n","slice","nextProps","console","log","Component","CreatePopup","edit","addHook","hidePopup","createTracker","resetPopup","validateFields","document","querySelectorAll","forEach","form","reset","querySelector","style","display","overflow","alert","newTracker","fieldNames","fieldValues","hook","loss","propertyList","classList","contains","innerText","post","res","_id","imgSrc","src","buyDate","add","result","updateProduct","hookList","textFields","hookFields","name","qty","link"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Form from 'react-bootstrap/Form'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport ReactDOM from 'react-dom'\r\nimport axios from \"axios\";\r\n\r\nclass Hook extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      currentProperty: {},\r\n      currentName: props.selectedProduct != null ? props.selectedProduct.hooks[props.id] : '',\r\n      loaded: false\r\n    }\r\n\r\n    if (this.props.productIds[0] != null) {\r\n      axios.get(\"http://localhost:5000/hooks/getProperties/\" + (this.props.selectedProduct != null && this.props.selectedProduct.properties[this.props.id] != null ? this.props.productIds[this.props.productNames.indexOf(this.props.selectedProduct.hooks[this.props.id])] : this.props.productIds[0]))\r\n        .then(response => {\r\n          this.setState({\r\n            currentProperty: response.data\r\n          })\r\n        })\r\n    }\r\n\r\n    this.displayProperties = this.displayProperties.bind(this)\r\n    this.renderHooks = this.renderHooks.bind(this)\r\n  }\r\n\r\n  displayProperties(event) {\r\n    this.setState({\r\n      currentName: event.target.value\r\n    })\r\n    axios.get(\"http://localhost:5000/hooks/getProperties/\" + this.props.productIds[event.target.selectedIndex])\r\n      .then(response => {\r\n        this.setState({\r\n          currentProperty: response.data\r\n        })\r\n      })\r\n  }\r\n\r\n  renderHooks() {\r\n    var hooks = []\r\n\r\n    hooks.push(<Col md = {3}>\r\n      <Form.Label>Product</Form.Label>\r\n      <Form.Select onChange={this.displayProperties} className=\"form-control hooks-field\" id=\"hooks-select\" value={this.state.currentName}>\r\n        {this.props.productNames.map(product => <option>{product}</option>)}\r\n      </Form.Select>\r\n    </Col>)\r\n\r\n    var properties = this.state.currentProperty\r\n    var keys = Object.keys(properties)\r\n\r\n    for (var i = 0; i < keys.length; i++) {\r\n      var selections = properties[keys[i]].map(property => <option>{property}</option>)\r\n      selections.unshift(<option>{'Any'}</option>)\r\n\r\n      if (this.props.selectedProduct != null && this.props.selectedProduct.properties[this.props.id] != null) {\r\n        selections = selections.filter(option => option.props.children != this.props.selectedProduct.properties[this.props.id][keys[i]])\r\n        selections.unshift(<option>{this.props.selectedProduct.properties[this.props.id][keys[i]]}</option>)\r\n      }\r\n\r\n      hooks.push(<Col md = {3}>\r\n        <Form.Label id = \"property-select\">{keys[i]}</Form.Label>\r\n        <Form.Select id = \"property-select\" className = \"hooks-field\">\r\n          {selections}\r\n        </Form.Select>\r\n      </Col>)\r\n    }\r\n\r\n    hooks.push(<Col md = {3}>\r\n      <Form.Label className = \"end\" id = \"property-select\">Loss per Order</Form.Label>\r\n      <Form.Control id = \"property-select\" type=\"number\" placeholder=\"Enter Number\" className=\"losses-select hooks-field\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.losses[this.props.id] : ''}/>\r\n    </Col>)\r\n\r\n    const noRows = Math.ceil(hooks.length / 4);\r\n\r\n    return Array.from(Array(noRows)).map((n, i) => (\r\n      <Row>\r\n       {hooks.slice(i* 4, (i + 1)* 4)}\r\n      </Row>\r\n    ));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderHooks()}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (this.props.productNames.length == 0) {\r\n      axios.get(\"http://localhost:5000/hooks/getProperties/\" + (nextProps.selectedProduct != null && nextProps.selectedProduct.properties[nextProps.id] != null ? nextProps.productIds[nextProps.productNames.indexOf(nextProps.selectedProduct.hooks[nextProps.id])] : nextProps.productIds[0]))\r\n        .then(response => {\r\n          console.log(response.data)\r\n          this.setState({\r\n            currentProperty: response.data,\r\n            currentName: nextProps.selectedProduct != null ? nextProps.selectedProduct.hooks[nextProps.id] : '',\r\n            loaded: true\r\n          })\r\n        })\r\n    }\r\n  }\r\n}\r\n\r\nexport default class CreatePopup extends React.Component{\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.state = {\r\n      hooks: 1,\r\n      edit: false\r\n    }\r\n\r\n    this.addHook = this.addHook.bind(this)\r\n    this.hidePopup = this.hidePopup.bind(this)\r\n    this.createTracker = this.createTracker.bind(this)\r\n    this.resetPopup = this.resetPopup.bind(this)\r\n    this.renderHooks = this.renderHooks.bind(this)\r\n    this.validateFields = this.validateFields.bind(this)\r\n  }\r\n\r\n  resetPopup() {\r\n    document.querySelectorAll('.pForm').forEach(form => {\r\n      console.log(form)\r\n      form.reset()\r\n    })\r\n\r\n    this.setState({\r\n      hooks: 1\r\n    })\r\n  }\r\n\r\n  hidePopup() {\r\n      document.querySelector('.popup-wrapper').style.display = \"none\"\r\n      document.querySelector(\"body\").style.overflow = \"visible\";\r\n      this.resetPopup()\r\n  }\r\n\r\n  async createTracker() {\r\n\r\n    if (!this.validateFields()) {\r\n      alert(\"Please fill out all fields\")\r\n    }\r\n    else {\r\n      document.querySelector('.loading-wrapper').style.display = \"initial\"\r\n\r\n      var newTracker = {}\r\n      var fieldNames = [\"name\", \"qty\", 'link']\r\n      var fieldValues = document.querySelectorAll('.popup-form')\r\n\r\n      for (var i = 0; i < fieldNames.length; i++) {\r\n        newTracker[fieldNames[i]] = fieldValues[i].value\r\n      }\r\n\r\n      newTracker.hooks = Array.from(document.querySelectorAll('#hooks-select')).map(hook => hook.value)\r\n      newTracker.losses = Array.from(document.querySelectorAll('.losses-select')).map(loss => loss.value)\r\n\r\n      var properties = []\r\n      var propertyList = document.querySelectorAll('#property-select')\r\n      var property = {}\r\n      for (var i = 0; i < propertyList.length; i += 2) {\r\n\r\n        if (propertyList[i].classList.contains(\"end\")) {\r\n\r\n          properties.push(property)\r\n          property = {}\r\n        }\r\n        else {\r\n          property[propertyList[i].innerText] = propertyList[i + 1].value\r\n        }\r\n      }\r\n\r\n      newTracker.properties = properties\r\n\r\n      if (this.props.selectedProduct == null) {\r\n        axios.post(\"http://localhost:5000/trackers/addTracker\", newTracker)\r\n          .then(res => {\r\n            newTracker._id = res.data._id\r\n            newTracker.imgSrc = res.data.src\r\n            newTracker.buyDate = res.data.buyDate\r\n\r\n            this.props.add(newTracker)\r\n\r\n            document.querySelector('.loading-wrapper').style.display = \"none\"\r\n            this.hidePopup()\r\n          })\r\n      }\r\n      else {\r\n        newTracker._id = this.props.selectedProduct._id\r\n        newTracker.imgSrc = this.props.selectedProduct.imgSrc\r\n\r\n        var result = await axios.post(\"http://localhost:5000/trackers/updateTracker/\" + this.props.selectedProduct._id, newTracker)\r\n        newTracker.buyDate = result.data.buyDate\r\n        this.props.updateProduct(newTracker)\r\n\r\n        document.querySelector('.loading-wrapper').style.display = \"none\"\r\n        this.hidePopup()\r\n      }\r\n    }\r\n  }\r\n\r\n  addHook() {\r\n    this.setState({\r\n      hooks: this.state.hooks + 1\r\n    })\r\n  }\r\n\r\n  renderHooks() {\r\n    var hookList = []\r\n\r\n    for (var i = 0; i < this.state.hooks; i++) {\r\n      hookList.push(<Hook id = {i} key = {i} productNames = {this.props.productNames} productIds = {this.props.productIds} selectedProduct={this.props.selectedProduct} displayProperties={this.displayProperties}/>)\r\n    }\r\n\r\n    return hookList\r\n  }\r\n\r\n  validateFields() {\r\n\r\n    var textFields = document.querySelectorAll(\".popup-form\")\r\n    for (var i = 0; i < textFields.length; i++) {\r\n      if (textFields[i].value == \"\") {\r\n        return false\r\n      }\r\n    }\r\n\r\n    var hookFields = document.querySelectorAll(\".hooks-field\")\r\n    for (var i = 0; i < hookFields.length; i++) {\r\n      if (hookFields[i].value == \"\") {\r\n        return false\r\n      }\r\n    }\r\n    return true\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div class = \"popup-wrapper\">\r\n        <div class = \"loading-wrapper\">\r\n          <img src = \"https://upload.wikimedia.org/wikipedia/commons/7/7d/Pedro_luis_romani_ruiz.gif\" class = \"popup-loading\"></img>\r\n        </div>\r\n        <div class = \"popup\">\r\n          <svg onClick={this.hidePopup} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-lg\" viewBox=\"0 0 16 16\">\r\n            <path d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/>\r\n          </svg>\r\n          <h1 class = \"text-center\">{this.props.selectedProduct != null ? 'Edit Tracker' : 'Create Tracker'}</h1>\r\n          <Form className = \"pForm\">\r\n            <Row>\r\n              <Col md = {8}>\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control className = \"popup-form\" type=\"text\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.name : ''} placeholder=\"Enter name\" />\r\n              </Col>\r\n              <Col md = {4}>\r\n                <Form.Label>Starting Quantity</Form.Label>\r\n                <Form.Control className = \"popup-form\" type=\"number\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.qty : ''} placeholder=\"Enter Number\" />\r\n              </Col>\r\n            </Row>\r\n            <Form.Label>Amazon Link</Form.Label>\r\n            <Form.Control className = \"popup-form\" type=\"text\" defaultValue={this.props.selectedProduct != null ? this.props.selectedProduct.link : ''} placeholder=\"Enter Link\" />\r\n          </Form>\r\n\r\n          <div class = \"hooks-header\">\r\n            <h3>Hooks with Etsy</h3>\r\n            <Button onClick = {this.addHook}>Add New Hook</Button>\r\n          </div>\r\n          <div class = \"hooks\">\r\n            <form className = \"pForm\">\r\n              {this.renderHooks()}\r\n            </form>\r\n          </div>\r\n\r\n          <Button onClick = {this.createTracker} id = \"create-tracker-btn\">{this.props.selectedProduct != null ? 'Edit Tracker' : 'Create Tracker'}</Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  UNSAFE_componentWillReceiveProps(nextProps) {\r\n    if (document.querySelector('.popup-wrapper').style.display == \"initial\") {\r\n      document.querySelector(\"body\").style.overflow = \"hidden\";\r\n    }\r\n\r\n    if (nextProps.selectedProduct != null) {\r\n      console.log(nextProps.selectedProduct)\r\n      this.setState({\r\n        hooks: nextProps.selectedProduct.hooks.length\r\n      })\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}