{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kaiwen Song\\\\Desktop\\\\Etsy-Inventory-Tracker\\\\my-app\\\\src\\\\App.js\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { ProductDisplay } from './components/ProductDisplay.js';\nimport { NavbarHead } from './components/NavbarHead.js';\nimport { CreatePopup } from './components/CreatePopup.js';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from \"axios\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productList: [],\n      productNames: [],\n      productIds: [],\n      selectedProduct: null,\n      loaded: false\n    };\n    this.renderProducts = this.renderProducts.bind(this);\n    this.addProduct = this.addProduct.bind(this);\n    this.deleteProduct = this.deleteProduct.bind(this);\n    this.editProduct = this.editProduct.bind(this);\n    this.loadPopup = this.loadPopup.bind(this);\n    this.updateProduct = this.updateProduct.bind(this);\n  }\n\n  renderProducts() {\n    var products = [];\n\n    for (var i = 0; i < this.state.productList.length; i++) {\n      var product = /*#__PURE__*/_jsxDEV(ProductDisplay, {\n        id: i,\n        img: this.state.productList[i].imgSrc,\n        name: this.state.productList[i].name,\n        qty: this.state.productList[i].qty,\n        date: this.state.productList[i].buyDate,\n        delete: this.deleteProduct,\n        edit: this.editProduct\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this);\n\n      products.push(product);\n    }\n\n    const noRows = Math.ceil(this.state.productList.length / 4);\n    return Array.from(Array(noRows)).map((n, i) => /*#__PURE__*/_jsxDEV(Row, {\n      className: \"product-row\",\n      children: products.slice(i * 4, (i + 1) * 4)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this));\n  }\n\n  addProduct(product) {\n    this.setState({\n      productList: this.state.productList.concat([product])\n    });\n  }\n\n  updateProduct(product) {\n    var index = this.state.productList.findIndex(item => item._id === product._id);\n    var copy = [...this.state.productList];\n    copy[index] = product;\n    console.log(copy, index, product);\n    this.setState({\n      productList: copy\n    });\n  }\n\n  deleteProduct(index) {\n    axios.delete(\"http://localhost:5000/trackers/deleteTracker/\" + this.state.productList[index]._id).then(response => {\n      console.log(response);\n    });\n    this.setState({\n      productList: this.state.productList.filter((_, i) => i !== index)\n    });\n  }\n\n  editProduct(index) {\n    this.setState({\n      selectedProduct: this.state.productList[index]\n    });\n    document.querySelector('.popup-wrapper').style.display = \"initial\";\n  }\n\n  loadPopup() {\n    this.setState({\n      selectedProduct: null\n    });\n    document.querySelector('.popup-wrapper').style.display = \"initial\";\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavbarHead, {\n        loadPopup: this.loadPopup,\n        loaded: this.state.loaded\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CreatePopup, {\n        add: this.addProduct,\n        productNames: this.state.productNames,\n        productIds: this.state.productIds,\n        selectedProduct: this.state.selectedProduct,\n        updateProduct: this.updateProduct\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://upload.wikimedia.org/wikipedia/commons/7/7d/Pedro_luis_romani_ruiz.gif\",\n          class: \"loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), this.renderProducts()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this);\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/hooks/getProducts\").then(response => {\n      this.setState({\n        productNames: response.data.map(product => product.title),\n        productIds: response.data.map(product => product.listing_id)\n      });\n      console.log(this.state.productIds);\n    });\n    axios.get(\"http://localhost:5000/trackers/getTrackers\").then(response => {\n      document.querySelector(\".loading\").style.display = \"none\";\n      this.setState({\n        productList: response.data,\n        loaded: true\n      });\n    });\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Kaiwen Song/Desktop/Etsy-Inventory-Tracker/my-app/src/App.js"],"names":["Container","Row","Col","Button","ProductDisplay","NavbarHead","CreatePopup","axios","React","App","Component","constructor","props","state","productList","productNames","productIds","selectedProduct","loaded","renderProducts","bind","addProduct","deleteProduct","editProduct","loadPopup","updateProduct","products","i","length","product","imgSrc","name","qty","buyDate","push","noRows","Math","ceil","Array","from","map","n","slice","setState","concat","index","findIndex","item","_id","copy","console","log","delete","then","response","filter","_","document","querySelector","style","display","render","componentDidMount","get","data","title","listing_id"],"mappings":";;AACA,OAAO,WAAP;AACA,OAAOA,SAAP,MAAsB,2BAAtB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,SAASC,cAAT,QAA+B,gCAA/B;AACA,SAASC,UAAT,QAA2B,4BAA3B;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,OAAO,sCAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,GAAN,SAAkBD,KAAK,CAACE,SAAxB,CAAkC;AAEhCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,EADF;AAEXC,MAAAA,YAAY,EAAE,EAFH;AAGXC,MAAAA,UAAU,EAAE,EAHD;AAIXC,MAAAA,eAAe,EAAE,IAJN;AAKXC,MAAAA,MAAM,EAAE;AALG,KAAb;AAQA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKE,aAAL,GAAqB,KAAKA,aAAL,CAAmBF,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKG,WAAL,GAAmB,KAAKA,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAKI,SAAL,GAAiB,KAAKA,SAAL,CAAeJ,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAKK,aAAL,GAAqB,KAAKA,aAAL,CAAmBL,IAAnB,CAAwB,IAAxB,CAArB;AACD;;AAEDD,EAAAA,cAAc,GAAG;AACf,QAAIO,QAAQ,GAAG,EAAf;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKd,KAAL,CAAWC,WAAX,CAAuBc,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;AACtD,UAAIE,OAAO,gBAAG,QAAC,cAAD;AAAgB,QAAA,EAAE,EAAIF,CAAtB;AAAiC,QAAA,GAAG,EAAE,KAAKd,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BG,MAAhE;AAAwE,QAAA,IAAI,EAAI,KAAKjB,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BI,IAA1G;AAAgH,QAAA,GAAG,EAAI,KAAKlB,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BK,GAAjJ;AAAsJ,QAAA,IAAI,EAAI,KAAKnB,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BM,OAAxL;AAAiM,QAAA,MAAM,EAAI,KAAKX,aAAhN;AAA+N,QAAA,IAAI,EAAI,KAAKC;AAA5O,SAA8BI,CAA9B;AAAA;AAAA;AAAA;AAAA,cAAd;;AACAD,MAAAA,QAAQ,CAACQ,IAAT,CAAcL,OAAd;AACD;;AAED,UAAMM,MAAM,GAAGC,IAAI,CAACC,IAAL,CAAU,KAAKxB,KAAL,CAAWC,WAAX,CAAuBc,MAAvB,GAAgC,CAA1C,CAAf;AAEA,WAAOU,KAAK,CAACC,IAAN,CAAWD,KAAK,CAACH,MAAD,CAAhB,EAA0BK,GAA1B,CAA8B,CAACC,CAAD,EAAId,CAAJ,kBACnC,QAAC,GAAD;AAAK,MAAA,SAAS,EAAG,aAAjB;AAAA,gBACED,QAAQ,CAACgB,KAAT,CAAef,CAAC,GAAE,CAAlB,EAAqB,CAACA,CAAC,GAAG,CAAL,IAAS,CAA9B;AADF;AAAA;AAAA;AAAA;AAAA,YADK,CAAP;AAKD;;AAEDN,EAAAA,UAAU,CAACQ,OAAD,EAAU;AAClB,SAAKc,QAAL,CAAc;AACX7B,MAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuB8B,MAAvB,CAA8B,CAACf,OAAD,CAA9B;AADF,KAAd;AAGD;;AAEDJ,EAAAA,aAAa,CAACI,OAAD,EAAU;AACrB,QAAIgB,KAAK,GAAG,KAAKhC,KAAL,CAAWC,WAAX,CAAuBgC,SAAvB,CAAiCC,IAAI,IAAIA,IAAI,CAACC,GAAL,KAAanB,OAAO,CAACmB,GAA9D,CAAZ;AACA,QAAIC,IAAI,GAAG,CAAC,GAAG,KAAKpC,KAAL,CAAWC,WAAf,CAAX;AAEAmC,IAAAA,IAAI,CAACJ,KAAD,CAAJ,GAAchB,OAAd;AACAqB,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAAkBJ,KAAlB,EAAyBhB,OAAzB;AACA,SAAKc,QAAL,CAAc;AACZ7B,MAAAA,WAAW,EAAEmC;AADD,KAAd;AAGD;;AAED3B,EAAAA,aAAa,CAACuB,KAAD,EAAQ;AACnBtC,IAAAA,KAAK,CAAC6C,MAAN,CAAa,kDAAkD,KAAKvC,KAAL,CAAWC,WAAX,CAAuB+B,KAAvB,EAA8BG,GAA7F,EACGK,IADH,CACQC,QAAQ,IAAI;AACdJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACH,KAHH;AAKA,SAAKX,QAAL,CAAc;AACZ7B,MAAAA,WAAW,EAAE,KAAKD,KAAL,CAAWC,WAAX,CAAuByC,MAAvB,CAA8B,CAACC,CAAD,EAAI7B,CAAJ,KAAUA,CAAC,KAAKkB,KAA9C;AADD,KAAd;AAGD;;AAEDtB,EAAAA,WAAW,CAACsB,KAAD,EAAQ;AACjB,SAAKF,QAAL,CAAc;AACZ1B,MAAAA,eAAe,EAAE,KAAKJ,KAAL,CAAWC,WAAX,CAAuB+B,KAAvB;AADL,KAAd;AAIAY,IAAAA,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,GAAyD,SAAzD;AACD;;AAEDpC,EAAAA,SAAS,GAAG;AACV,SAAKmB,QAAL,CAAc;AACZ1B,MAAAA,eAAe,EAAE;AADL,KAAd;AAIAwC,IAAAA,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,KAAzC,CAA+CC,OAA/C,GAAyD,SAAzD;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,8BACE,QAAC,UAAD;AAAY,QAAA,SAAS,EAAI,KAAKrC,SAA9B;AAAyC,QAAA,MAAM,EAAI,KAAKX,KAAL,CAAWK;AAA9D;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,WAAD;AAAa,QAAA,GAAG,EAAI,KAAKG,UAAzB;AAAqC,QAAA,YAAY,EAAI,KAAKR,KAAL,CAAWE,YAAhE;AAA8E,QAAA,UAAU,EAAI,KAAKF,KAAL,CAAWG,UAAvG;AAAmH,QAAA,eAAe,EAAI,KAAKH,KAAL,CAAWI,eAAjJ;AAAkK,QAAA,aAAa,EAAI,KAAKQ;AAAxL;AAAA;AAAA;AAAA;AAAA,cAFF,eAIE,QAAC,SAAD;AAAA,gCACE;AAAK,UAAA,GAAG,EAAG,gFAAX;AAA4F,UAAA,KAAK,EAAG;AAApG;AAAA;AAAA;AAAA;AAAA,gBADF,EAEG,KAAKN,cAAL,EAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AAWD;;AAED2C,EAAAA,iBAAiB,GAAG;AAClBvD,IAAAA,KAAK,CAACwD,GAAN,CAAU,yCAAV,EACGV,IADH,CACQC,QAAQ,IAAI;AACd,WAAKX,QAAL,CAAc;AACZ5B,QAAAA,YAAY,EAAEuC,QAAQ,CAACU,IAAT,CAAcxB,GAAd,CAAkBX,OAAO,IAAIA,OAAO,CAACoC,KAArC,CADF;AAEZjD,QAAAA,UAAU,EAAEsC,QAAQ,CAACU,IAAT,CAAcxB,GAAd,CAAkBX,OAAO,IAAIA,OAAO,CAACqC,UAArC;AAFA,OAAd;AAKAhB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtC,KAAL,CAAWG,UAAvB;AACH,KARH;AAUAT,IAAAA,KAAK,CAACwD,GAAN,CAAU,4CAAV,EACGV,IADH,CACQC,QAAQ,IAAI;AAChBG,MAAAA,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCC,KAAnC,CAAyCC,OAAzC,GAAmD,MAAnD;AACA,WAAKjB,QAAL,CAAc;AACZ7B,QAAAA,WAAW,EAAEwC,QAAQ,CAACU,IADV;AAEZ9C,QAAAA,MAAM,EAAE;AAFI,OAAd;AAID,KAPH;AAQD;;AAlH+B;;AAqHlC,eAAeT,GAAf","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport Container from 'react-bootstrap/Container'\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport { ProductDisplay } from './components/ProductDisplay.js'\nimport { NavbarHead } from './components/NavbarHead.js'\nimport { CreatePopup } from './components/CreatePopup.js'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport axios from \"axios\";\nimport React from \"react\";\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      productList: [],\n      productNames: [],\n      productIds: [],\n      selectedProduct: null,\n      loaded: false\n    }\n\n    this.renderProducts = this.renderProducts.bind(this)\n    this.addProduct = this.addProduct.bind(this)\n    this.deleteProduct = this.deleteProduct.bind(this)\n    this.editProduct = this.editProduct.bind(this)\n    this.loadPopup = this.loadPopup.bind(this)\n    this.updateProduct = this.updateProduct.bind(this)\n  }\n\n  renderProducts() {\n    var products = []\n    for (var i = 0; i < this.state.productList.length; i++) {\n      var product = <ProductDisplay id = {i} key={i} img={this.state.productList[i].imgSrc} name = {this.state.productList[i].name} qty = {this.state.productList[i].qty} date = {this.state.productList[i].buyDate} delete = {this.deleteProduct} edit = {this.editProduct}/>\n      products.push(product)\n    }\n\n    const noRows = Math.ceil(this.state.productList.length / 4);\n\n    return Array.from(Array(noRows)).map((n, i) => (\n      <Row className = \"product-row\">\n       {products.slice(i* 4, (i + 1)* 4)}\n      </Row>\n    ));\n  }\n\n  addProduct(product) {\n    this.setState({\n       productList: this.state.productList.concat([product])\n    })\n  }\n\n  updateProduct(product) {\n    var index = this.state.productList.findIndex(item => item._id === product._id)\n    var copy = [...this.state.productList]\n\n    copy[index] = product\n    console.log(copy, index, product)\n    this.setState({\n      productList: copy\n    })\n  }\n\n  deleteProduct(index) {\n    axios.delete(\"http://localhost:5000/trackers/deleteTracker/\" + this.state.productList[index]._id)\n      .then(response => {\n          console.log(response)\n      });\n\n    this.setState({\n      productList: this.state.productList.filter((_, i) => i !== index)\n    })\n  }\n\n  editProduct(index) {\n    this.setState({\n      selectedProduct: this.state.productList[index]\n    })\n\n    document.querySelector('.popup-wrapper').style.display = \"initial\"\n  }\n\n  loadPopup() {\n    this.setState({\n      selectedProduct: null\n    })\n\n    document.querySelector('.popup-wrapper').style.display = \"initial\"\n  }\n\n  render() {\n    return (\n      <div>\n        <NavbarHead loadPopup = {this.loadPopup} loaded = {this.state.loaded}/>\n        <CreatePopup add = {this.addProduct} productNames = {this.state.productNames} productIds = {this.state.productIds} selectedProduct = {this.state.selectedProduct} updateProduct = {this.updateProduct}/>\n\n        <Container>\n          <img src = \"https://upload.wikimedia.org/wikipedia/commons/7/7d/Pedro_luis_romani_ruiz.gif\" class = \"loading\"></img>\n          {this.renderProducts()}\n        </Container>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:5000/hooks/getProducts\")\n      .then(response => {\n          this.setState({\n            productNames: response.data.map(product => product.title),\n            productIds: response.data.map(product => product.listing_id)\n          })\n\n          console.log(this.state.productIds)\n      });\n\n    axios.get(\"http://localhost:5000/trackers/getTrackers\")\n      .then(response => {\n        document.querySelector(\".loading\").style.display = \"none\"\n        this.setState({\n          productList: response.data,\n          loaded: true\n        })\n      })\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}